<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Exadata &amp;#8211; grid disks, offset and resize operations | My New Hugo Site</title>
    <link rel="stylesheet" href="/quickstart2/css/style.css" />
    <link rel="stylesheet" href="/quickstart2/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/quickstart2/">Home</a></li>
      
      <li><a href="/quickstart2/blog1/">Blog 1</a></li>
      
      <li><a href="/quickstart2/blog2/">Blog 2</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Exadata – grid disks, offset and resize operations</span></h1>
<h2 class="author">Sidhu</h2>
<h2 class="date">2016/09/19</h2>
</div>

<main>
<p>On a freshly configured Exadata system the following command will give you the details of size and offset of each grid disk</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: plain; title: ; notranslate&#34; title=&#34;&#34;&gt;cellcli -e list griddisk attributes name,size,offset
DBFS1_CD_00_celadm03     5G      32M    --0.03125G
DATA1_CD_00_celadm03     171G    5.03125G
RECO1_CD_00_celadm03     14G     176.03125G
</code></pre><p>So the First grid disk starts at offset 32M (0.03125G), its size is 5G and the next one starts at 5.03125G (0.03125G + 5G) and so on.</p>
<p>Now let us assume that there was free space left on the cell disks and some of the grid disks were resized. In such a case the space allocation for the resized grid disks isn’t going to be contiguous. The required space is going to be allocated from the nearest available <a href="http://docs.oracle.com/cd/E50790_01/doc/doc.121/e50471/cellcli.htm#SAGUG20643">freeSpaceMap</a> on the celldisk. Here is a sample output of how it displays the free space areas on a cell disk.</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: plain; title: ; notranslate&#34; title=&#34;&#34;&gt;cellcli -e list celldisk attributes name,size,freespace,freespacemap
CD_00_celadm04   3.6049652099609375T     2.04339599609375T       ((offset=32M,size=5G),(offset=290.046875G,size=5G),(offset=1.0156707763671875T,size=114G),(offset=1.6826629638671875T,size=1.92230224609375T))
</code></pre><p>So there is a 5G of space available at offset 32M, then 5G at offset 290.046875G and so on.</p>
<p>After resizing the grid disks if you check the details, it may look something like</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: plain; title: ; notranslate&#34; title=&#34;&#34;&gt;cellcli -e list griddisk attributes name,size,offset
DBFS1_CD_00_celadm03     5G      32M    --0.03125G
DATA1_CD_00_celadm03     285G    5.03125G
RECO1_CD_00_celadm03     14G     176.03125G
</code></pre><p>So now the sizes and offsets aren’t adding up properly. It looks ok for DATA1 but not for RECO1. The offset for RECO1 should have been at 290.03125 but it is at 176.03125G. It means the DATA grid disk was resized and the additional space has been allocated from some freeSpaceMap (the nearest one) on the cell disk (I think it checks only forward, not backward. ie from outer part towards inner part).</p>
<p>So the gist is that if the grid disks have been resized after initial deployment, the sizes and offsets may leave you puzzled. If you need to create similar grid disks on a new cell just go by the sizes and omit the offset part. To keep the order of the grid disks same, you can sort them by offset (on the existing cells, lowest to highest). The grid disks on the new cell will have different offset but that doesn’t make any difference.</p>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

